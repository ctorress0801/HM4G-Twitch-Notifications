<div class="notification-container">
    <div id="img-content" class="image-container">
      <div id="Game" class="Game">
          <div id="SpaceInvaders0" class="SpaceInvaders0"></div>
          <div id="SpaceInvaders1" class="SpaceInvaders1"></div>
          <div id="Space" class="Space">
              <img id="Bullet" class="Bullet" src=""/>
          </div>
          <div id="Canon" class="Canon"></div>
      </div>
    </div>
  
    <div class="text-container">
      <div class="title">
        <span class='keyword name'>{name}</span> Cheered! {bit_image} x<span id="amnt" class='keyword amount'>{amount}</span>
      </div>
  
      <div class="subtitle">
        <span class='keyword user_message'>{user_message}</span>
      </div>
    </div>
  
    <div id="tts" class="tts">
      {tts_user_message}
    </div>
  
  
      <script>
          //Space Invaders------------------------------------------Space Invaders
        sprites = [//tier0 0-5
                    ['GyCrab1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier0/GyCrab1.png'], 
                    ['GyCrab2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier0/GyCrab2.png'],
                    ['GyOctopus1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier0/GyOctopus1.png'], 
                    ['GyOctopus2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier0/GyOctopus2.png'], 
                    ['GySquid1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier0/GySquid1.png'], 
                    ['GySquid2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier0/GySquid2.png'],
                    //tier1 6-23
                    ['GrCrab1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/GrCrab1.png'], 
                    ['GrCrab2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/GrCrab2.png'],
                    ['GrOctopus1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/GrOctopus1.png'], 
                    ['GrOctopus2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/GrOctopus2.png'], 
                    ['GrSquid1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/GrSquid1.png'], 
                    ['GrSquid2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/GrSquid2.png'], 
                    ['OrCrab1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/OrCrab1.png'], 
                    ['OrCrab2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/OrCrab2.png'], 
                    ['OrOctopus1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/OrOctopus1.png'], 
                    ['OrOctopus2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/OrOctopus2.png'], 
                    ['OrSquid1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/OrSquid1.png'], 
                    ['OrSquid2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/OrSquid2.png'],
                    ['PkCrab1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/PkCrab1.png'], 
                    ['PkCrab2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/PkCrab2.png'], 
                    ['PkOctopus1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/PkOctopus1.png'], 
                    ['PkOctopus2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/PkOctopus2.png'], 
                    ['PkSquid1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/PkSquid1.png'], 
                    ['PkSquid2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/PkSquid2.png'],
                    //tier2 24-41
                    ['GlCrab1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/GlCrab1.png'], 
                    ['GlCrab2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/GlCrab2.png'],
                    ['GlOctopus1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/GlOctopus1.png'], 
                    ['GlOctopus2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/GlOctopus2.png'], 
                    ['GlSquid1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/GlSquid1.png'], 
                    ['GlSquid2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/GlSquid2.png'], 
                    ['PkCrab1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/PkCrab1.png'], 
                    ['PkCrab2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/PkCrab2.png'], 
                    ['PkOctopus1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/PkOctopus1.png'], 
                    ['PkOctopus2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/PkOctopus2.png'], 
                    ['PkSquid1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/PkSquid1.png'], 
                    ['PkSquid2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/PkSquid2.png'],
                    ['WhCrab1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/WhCrab1.png'], 
                    ['WhCrab2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/WhCrab2.png'], 
                    ['WhOctopus1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/WhOctopus1.png'], 
                    ['WhOctopus2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/WhOctopus2.png'], 
                    ['WhSquid1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/WhSquid1.png'], 
                    ['WhSquid2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/WhSquid2.png'],
                    //tier3 42-65
                    ['GlCrab1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/GlCrab1.png'], 
                    ['GlCrab2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/GlCrab2.png'],
                    ['GlOctopus1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/GlOctopus1.png'], 
                    ['GlOctopus2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/GlOctopus2.png'], 
                    ['GlSquid1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/GlSquid1.png'], 
                    ['GlSquid2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/GlSquid2.png'], 
                    ['PrCrab1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/PrCrab1.png'], 
                    ['PrCrab2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/PrCrab2.png'], 
                    ['PrOctopus1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/PrOctopus1.png'], 
                    ['PrOctopus2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/PrOctopus2.png'], 
                    ['PrSquid1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/PrSquid1.png'], 
                    ['PrSquid2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/PrSquid2.png'],
                    ['WhCrab1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WhCrab1.png'], 
                    ['WhCrab2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WhCrab2.png'], 
                    ['WhOctopus1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WhOctopus1.png'], 
                    ['WhOctopus2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WhOctopus2.png'], 
                    ['WhSquid1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WhSquid1.png'], 
                    ['WhSquid2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WhSquid2.png'],
                    ['WpCrab1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WpCrab1.png'], 
                    ['WpCrab2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WpCrab2.png'], 
                    ['WpOctopus1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WpOctopus1.png'], 
                    ['WpOctopus2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WpOctopus2.png'], 
                    ['WpSquid1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WpSquid1.png'], 
                    ['WpSquid2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WpSquid2.png'],
        ];
        bullets = [
                    ['bullet1','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/bullets/bullet1.png'],
                    ['bullet2','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/bullets/bullet2.png']
        ];
        explosions0 = [//tier0
                    ['Gy','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier0/GyExplosion.png']
        ];
        explosions1 = [//tier1
                    ['Gr','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/GrExplosion.png'],
                    ['Or','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/OrExplosion.png'],
                    ['Pk','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier1/PkExplosion.png']
        ];
        explosions2 = [//tier2
                    ['Gl','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/GlExplosion.png'],
                    ['Pk','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/PkExplosion.png'],
                    ['Wh','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier2/WhExplosion.png']
        ];
        explosions3 = [//tier3
                    ['Gl','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/GlExplosion.png'],
                    ['Pr','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/PrExplosion.png'],
                    ['Wh','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WhExplosion.png'],
                    ['Wp','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/invaders/tier3/WpExplosion.png']
         ];
         vsounds = ['https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sounds/Voice/GET%20READY!.mp3','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sounds/Voice/ITS%20FEVER%20TIME!.mp3']
         shotsfx = ['https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sounds/sfx/Sample%200(shot).mp3','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sounds/sfx/Sample%203(shot).mp3'];
         hitsfx = ['https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sounds/sfx/Sample%2026(hit).mp3','https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sounds/sfx/Sample%201(hit).mp3'];
          var step = 0;//0 means current step, max 2 to each side
          var direction = 0;//0 means move left, 1 means move right
          var row0 = document.getElementById('SpaceInvaders0');
          var row1 = document.getElementById('SpaceInvaders1');
          var tiermin = 0;
          var tierMax = 5;
          //Create a matrix with 0 for no enemy and 1 for enemy
          var combatZone = [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]];
          var hit = 0;
          var currentPos = 0;
          //Instructions----------------------------------------------Instructions
          initializeGame();
          nextFrame();
          //Initialize Game----------------------------------------Initialize Game
          function initializeGame(){
              //Get cheer tier
              //100-999,1000-4999,5000-9999,10000-8
              var cheerAmount = parseInt(document.getElementById("amnt").innerHTML, 10);
              if(1 < parseInt(cheerAmount) && parseInt(cheerAmount) < 100){
                  tiermin = 0;
                  tierMax = 5;
              } else if(99 < parseInt(cheerAmount) && parseInt(cheerAmount) < 500){
                  tiermin = 6;
                  tierMax = 23;
              } else if(499 < parseInt(cheerAmount) && parseInt(cheerAmount) < 1000){
                  tiermin = 24;
                  tierMax = 41;
              } else if(999 < parseInt(cheerAmount)){
                  tiermin = 42;
                  tierMax = 65;
              }
              //Fill the matrix with enemies
              for (let i=0; i<2; i++){
                  for(let j=0; j<8; j++){
                      combatZone[i][j] = Math.round(getRandom(0, 1));
                  }
              }
              //For all the elements in the matrix add a enemy sprite if 1 or clear if 0
              //to the corresponding enemy row
              for (let i=0; i<2; i++){
                  for (let j=0; j<8; j++){
                      if(combatZone[i][j] == 1){
                          var invaderType = Math.round(getRandom(tiermin, tierMax));
                          document.getElementById("SpaceInvaders" + i).insertAdjacentHTML("beforeend", 
                          '<img id="' + i + j + '" class="'+ sprites[invaderType][0] +'" src="' + sprites[invaderType][1]+'" />'); 
                      } else {
                          document.getElementById("SpaceInvaders" + i).insertAdjacentHTML("beforeend", 
                          '<img id="' + i + j + '" class="clear" src="https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/Clear.png" />'); 
                      }
                  }
              }
              //Add the Canon
              document.getElementById("Canon").insertAdjacentHTML("beforeend", 
              '<img id="CanonSprite" class="CanonSprite" src="https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/Canon2.png" />');
              document.getElementById("tts").insertAdjacentHTML("afterend", 
              '<audio src="' + vsounds[Math.round(getRandom(0,1))] + '"></audio>'); 
          }
          //Execute next frame
          async function nextFrame() {
              for(let i=0; i<11; i++){
                  await sleep(250);
                  replaceSprite();
  
                  await sleep(250);
                  replaceSprite();
                  analizeSteps();
                  await sleep(250);
                  moveInvaders();
              }
          }
          //Delay function
          function sleep(ms) {
              //Some one pls explain callback function or whatever this is
              return new Promise(resolve => setTimeout(resolve, ms));//I still don't understand how this line works 100%! D:
          }
          //Replace enemies sprites every x ms
          function replaceSprite(){
              //For each enemy, if the class ends in 0 or 1, change the sprite to 1 or 0
              for(let i=0; i<2; i++){
                  for ( let j=0; j<8; j++){
                      var SI0 = document.getElementById(i.toString() + j.toString());
                      var spriteVer = SI0.getAttribute('class');
                      var chars = spriteVer.split('');
                      var spriteId = chars[chars.length-1];
                      if ( spriteId == '1'){
                          //Find in array element and replace with next
                          for (let k=0; k<sprites.length; k++){
                              if (sprites[k][0]==spriteVer){
                                  SI0.setAttribute("src",sprites[k+1][1] );
                                  SI0.setAttribute("class",sprites[k+1][0] );
                                  k = sprites.length;
                              }
                          }
                      }else if ( spriteId == '2'){
                          //Find in array element and replace with previous
                          for (let k=0; k<sprites.length; k++){
                              if (sprites[k][0]==spriteVer){
                                  SI0.setAttribute("src",sprites[k-1][1] );
                                  SI0.setAttribute("class",sprites[k-1][0] );
                                  k = sprites.length;
                              }
                          }
                      }
                  }
              }
          }
          //Move invaders rows
          function moveInvaders(){
              if(step<2 && direction == 0){//Move left
                  row0.style.left = (row0.offsetLeft  - 60).toString() + "px";
                  row1.style.left = (row1.offsetLeft  - 60).toString() + "px";
                  step++;
                  direction = 0;
                  return;
              }
              if(step==2 && direction == 0){//move down
                  row0.style.top = (row0.offsetTop + 60).toString() + "px";
                  row1.style.top = (row0.offsetTop + 60).toString() + "px";
                  direction = 1;
                  return;
              }
              if(step>0 && direction == 1){//Move right
                  row0.style.left = (row0.offsetLeft  + 60).toString() + "px";
                  row1.style.left = (row1.offsetLeft  + 60).toString() + "px";
                  step--;
                  direction = 1;
                  return;
              }
              if(step==0 && direction == 1){//Move down
                  row0.style.top = (row0.offsetTop  + 60).toString() + "px";
                  row1.style.top = (row0.offsetTop  + 60).toString() + "px";
                  direction = 0;
              }
          }
          //Analize next invaders position
          function analizeSteps(){
              for(let i=1; i>=0; i--){//from 1 to 0
                  for(let j=0; j<8; j++){
                      if(combatZone[i][j] == 1){
                          //Look ahead 2 steps 1 for movement 2 for bullet travel
                          var Enemy = document.getElementById(i.toString() + j.toString());
                          var rect = Enemy.getBoundingClientRect();
                          if(step==0 && direction == 0){//Move left
                              hit = rect.left - 680 - 60;
                          }
                          if(step==1 && direction == 0){//move left 
                              hit = rect.left - 680 - 60;
                          }
                          if(step==2 && direction == 0){//Move down
                              hit = rect.left - 680;
                          }
                          if(step==2 && direction == 1){//Move right
                              hit = rect.left - 680 + 60;
                          }
                          if(step==1 && direction == 1){//move right 
                              hit = rect.left - 680 + 60;
                          }
                          if(step==0 && direction == 1){//Move down
                              hit = rect.left - 680;
                          }
                          //Enemy.setAttribute("src","https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/Clear.png" );
                          //Enemy.setAttribute("class","clear" );
                          moveCanon(hit,i.toString() + j.toString());
                          combatZone[i][j] = 0;
                          return;
                      }
                  }
              }
          }
          //Move canon to next invaders position
          async function moveCanon(newPos, hitId){
              //animation time = 4.4 sec
              var x = document.getElementById("CanonSprite");
              x.animate([
                  { // from
                      left: (currentPos).toString() + 'px',easing: 'ease-out'
                  }, 
                  { // to
                      left: (newPos).toString() + 'px',easing: 'ease-in'
                  }
              ], { 
                // timing options
                duration: 350
                //iterations: Infinity
              });
              x.style.left = newPos + "px";
              currentPos = newPos;
              await sleep(300);
              shootBullet(newPos, hitId);
          }
          //Show bullet animation
          async function shootBullet(shotPos, hitId){
              var bull = Math.round(getRandom(0,1));
              Bul = document.getElementById("Bullet");
              Bul.setAttribute("src",bullets[bull][1]);
              Bul.style.left = shotPos + "px";
              var shotSound = new Audio(shotsfx[Math.round(getRandom(0,1))]);
              shotSound.volume = 0.2;
              shotSound.play();
              Bul.animate([
                  { // from
                      top: '300px',easing: 'ease-out', opacity: 1
                  }, 
                  { // to
                      top: (document.getElementById(hitId).offsetTop).toString() + 'px',easing: 'ease-in', opacity: 0
                  }
              ], { 
                // timing options
                duration: 550
                //iterations: Infinity
              });
              await sleep(250);
              destroyInvader(hitId);
          }
          //Destroy invader and change sprite
          async function destroyInvader(hitId){
                //Get explosion sprite
                Dest = document.getElementById(hitId);
                var DestVer = Dest.getAttribute('class');
                var chars = DestVer.split('');
                var DestId = chars[0]+chars[1];
                if(tierMax == 5){
                    Dest.setAttribute("src",explosions0[0][1] );
                    Dest.setAttribute("class","Explosion" );
                } else if(tierMax == 23){
                    for(let i=0; i<explosions1.length; i++){
                        if(DestId == explosions1[i][0]){
                            Dest.setAttribute("src",explosions1[i][1] );
                            Dest.setAttribute("class","Explosion" );
                            i = explosions1.length;
                        }  
                    }
                  
                } else if(tierMax == 41){
                    for(let i=0; i<explosions2.length; i++){
                        if(DestId == explosions2[i][0]){
                            Dest.setAttribute("src",explosions2[i][1] );
                            Dest.setAttribute("class","Explosion" );
                            i = explosions2.length;
                        }  
                    }
                  
                } else if(tierMax == 65){
                    for(let i=0; i<explosions3.length; i++){
                        if(DestId == explosions3[i][0]){
                            Dest.setAttribute("src",explosions3[i][1] );
                            Dest.setAttribute("class","Explosion" );
                            i = explosions3.length;
                        }  
                    }
                } 
                var hitSound = new Audio(hitsfx[Math.round(getRandom(0,1))]);
                hitSound.volume = 0.2;
                hitSound.play();
                await sleep(333);
                Dest.setAttribute("src","https://raw.githubusercontent.com/ctorress0801/HM4G-Twitch-Notifications/master/SpaceInvaders%20Alert/Sprites/Clear.png" );
                Dest.setAttribute("class","clear" );
                return;
          }
          //Random function
          function getRandom(min, max){
              return Math.random() * (max - min) + min;
              
          }
          
          //Developer Notes----------------------------------------Developer Notes
          //Math.random() * (max - min) + min
      </script>
  
  </div>
  <!--Christopher Torres-->
  <!--https://github.com/ctorress0801-->
  <!--https://www.twitch.tv/heavym4chinegun-->
  <!--HM4G/Ctorress0801 May 2020-->